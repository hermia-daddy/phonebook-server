{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","service/Persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","handleSearch","newSearchWord","onChange","value","PersonForm","addPerson","handleOnPersonNameChange","handleOnPersonNumberChange","newName","newNumber","onSubmit","type","Person","person","deletePerson","console","log","key","name","number","onClick","baseUrl","axios","get","then","response","data","personObject","post","id","delete","Notification","message","error","className","App","useState","persons","setPersons","setNewName","setNewNumber","setSearchWord","newSearchPersons","setNewSearchPersons","setMessage","setError","useEffect","servicePerson","initialPersons","event","target","searchPersons","filter","p","toLowerCase","indexOf","preventDefault","returnedPerson","concat","setTimeout","catch","map","find","window","confirm","deleteId","deletedPerson","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ec63e3be.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({handleSearch,newSearchWord}) => {\r\n    return (\r\n        <div>\r\n            filter shown with<input onChange={handleSearch} value={newSearchWord}></input>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\nconst PersonForm = ({addPerson,handleOnPersonNameChange,handleOnPersonNumberChange,newName,newNumber}) => {\r\n    return (\r\n        <div>\r\n            <form onSubmit={addPerson}>\r\n                <div>\r\n                    name:<input onChange={handleOnPersonNameChange} value={newName} />\r\n                </div>\r\n                <div>\r\n                    number:<input onChange={handleOnPersonNumberChange} value={newNumber} />\r\n                </div>\r\n                <div>\r\n                    <button type=\"submit\">add</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Person = ({ person, deletePerson }) => {\r\n    console.log('delete person method', deletePerson)\r\n    return (\r\n        <p key={person.name}>{person.name} {person.number} <button onClick={deletePerson}>delete</button></p>\r\n    )\r\n}\r\n\r\nexport default Person","import axios from 'axios'\r\n\r\nconst baseUrl = `/api/persons`\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then((response) => {\r\n        return response.data\r\n    })\r\n}\r\n\r\nconst create = (personObject) => {\r\n    const request = axios.post(baseUrl, personObject)\r\n    return request.then((response) => {\r\n        return response.data\r\n    })\r\n}\r\n\r\nconst update = (id, personObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, personObject)\r\n    return request.then((response) => {\r\n        return response.data\r\n    })\r\n}\r\n\r\nconst remove = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response =>{\r\n        console.log(response)\r\n        return id\r\n    } )\r\n}\r\n\r\nexport default { getAll, create, update, remove }","import React from 'react'\r\n\r\nconst Notification = ({message,error}) => {\r\n    \r\n\r\n    if(message !== null){\r\n        return(\r\n            <div className='message'>\r\n                {message}\r\n            </div>\r\n        )\r\n    }\r\n    if(error !== null){\r\n        return(\r\n            <div className='error'>\r\n                {error}\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return null\r\n    \r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\r\nimport Filter from './components/Filter'\r\nimport PersonForm from './components/PersonForm'\r\nimport Person from './components/Person'\r\nimport servicePerson from './service/Persons'\r\nimport Notification from './components/Notification'\r\n\r\n\r\nconst App = () => {\r\n    const [persons, setPersons] = useState([])\r\n    const [newName, setNewName] = useState('')\r\n    const [newNumber, setNewNumber] = useState('')\r\n    const [newSearchWord, setSearchWord] = useState('')\r\n    const [newSearchPersons, setNewSearchPersons] = useState([])\r\n    const [message, setMessage] = useState(null)\r\n    const [error, setError] = useState(null)\r\n\r\n    useEffect(() => {\r\n        servicePerson.getAll()\r\n            .then(initialPersons => {\r\n                setPersons(initialPersons)\r\n                setNewSearchPersons(initialPersons)\r\n            })\r\n    }, [])\r\n\r\n    const exitName = (p) => p.name === newName\r\n\r\n    const addPerson = (event) => {\r\n\r\n        event.preventDefault()\r\n\r\n        const newPerson = {\r\n            name: newName,\r\n            number: newNumber\r\n        }\r\n\r\n        servicePerson.create(newPerson)\r\n            .then(returnedPerson => {\r\n                setPersons(persons.concat(returnedPerson))\r\n                if (newName.toLowerCase().indexOf(newSearchWord.toLowerCase()) > -1) {\r\n                    setNewSearchPersons(newSearchPersons.concat(returnedPerson))\r\n                }\r\n                setMessage(`add ${newName}`)\r\n                setTimeout(() => {\r\n                    setMessage(null)\r\n                }, 5000)\r\n                setNewName('')\r\n                setNewNumber('')\r\n            })\r\n            .catch(error => {\r\n                console.log('error:', error.response)\r\n                setError(error.response.data.error)\r\n                setTimeout(() => {\r\n                    setError(null)\r\n                }, 5000)\r\n                setNewName('')\r\n                setNewNumber('')\r\n            })\r\n\r\n    }\r\n\r\n    const handleOnPersonNameChange = (event) => {\r\n        setNewName(event.target.value)\r\n    }\r\n\r\n    const handleOnPersonNumberChange = (event) => {\r\n        setNewNumber(event.target.value)\r\n    }\r\n\r\n    const handleSearch = (event) => {\r\n        setSearchWord(event.target.value)\r\n        if (event.target.value) {\r\n            const searchPersons = persons.filter(p => p.name.toLowerCase().indexOf(event.target.value.toLowerCase()) > -1)\r\n            setNewSearchPersons(searchPersons)\r\n        } else {\r\n            setNewSearchPersons(persons)\r\n        }\r\n    }\r\n\r\n    const deletePerson = (id) => {\r\n        var deletePerson = persons.find(p => p.id === id)\r\n        if (window.confirm(`delete ${deletePerson.name} ?`)) {\r\n            servicePerson.remove(id)\r\n                .then(deleteId => {\r\n                    setPersons(persons.filter(p => p.id !== id))\r\n                    setNewSearchPersons(newSearchPersons.filter(p => p.id !== id))\r\n                })\r\n                .catch(error => {\r\n                    const deletedPerson = persons.find(p => p.id === id)\r\n                    setPersons(persons.filter(p => p.id !== id))\r\n                    setNewSearchPersons(newSearchPersons.filter(p => p.id !== id))\r\n                    console.log('error:', error.response)\r\n                    setError(`Information of ${deletedPerson.name} has already been removed from server`)\r\n                    setTimeout(() => {\r\n                        setError(null)\r\n                    }, 5000)\r\n                })\r\n        }\r\n    }\r\n\r\n    return (\r\n\r\n        <div>\r\n            <h2>Phonebook</h2>\r\n            <Notification message={message} error={error} />\r\n            <Filter handleSearch={handleSearch} newSearchWord={newSearchWord} />\r\n            <h2>add a new</h2>\r\n            <PersonForm addPerson={addPerson} handleOnPersonNameChange={handleOnPersonNameChange} handleOnPersonNumberChange={handleOnPersonNumberChange} newName={newName} newNumber={newNumber} />\r\n            <h2>Numbers</h2>\r\n            <div>\r\n                {newSearchPersons.map((person) => <Person key={person.id} person={person} deletePerson={() => deletePerson(person.id)} />)}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(<App />,document.getElementById('root'))"],"sourceRoot":""}